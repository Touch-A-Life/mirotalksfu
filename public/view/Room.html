<!DOCTYPE html>
<html lang="en">

    <head>

        <!-- Title and Icon -->

        <title>TAL Audio Rooms - Room Audio Chat, Messaging .</title>
        <link rel="shortcut icon" href="../images/logo_icon.png" />
        <link rel="apple-touch-icon" href="../images/logo_icon.png" />

        <!-- Meta Information -->

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="description"
            content="TAL Audio Rooms powered by WebRTC and mediasoup, Real-time Simple Secure Fast Audio Chat, messaging  capabilities in the browser." />
        <meta name="keywords"
            content="webrtc, mediasoup, mediasoup-client, self hosted, voip, sip, real-time communications, chat, messaging, meet, webrtc stun, webrtc turn, video meeting, video chat, video conference, multi video chat, multi video conference, peer to peer, p2p, rtc, alternative to, zoom, microsoft teams, google meet, jitsi, meeting" />

        <!-- https://ogp.me -->

        <meta property="og:type" content="app-webrtc" />
        <meta property="og:site_name" content="TAL Audio Rooms" />
        <meta property="og:title" content="Click the link to join the audio room." />
        <meta property="og:description" content="TAL Audio Rooms calling provides real-time Audio Chat, messaging ." />
        <meta property="og:image" content="https://chat.touchalife.org/images/logo_icon.png" />

        <!-- StyleSheet -->

        <link rel="stylesheet" href="../css/Room.css" />
        <link rel="stylesheet" href="../css/VideoGrid.css" />

        <!-- https://animate.style 4 using for swal fadeIn-Out -->

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />

        <!-- Bootstrap 5 -->

        <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css" />

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
            crossorigin="anonymous" />
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
            crossorigin="anonymous"></script>

        <!-- Js scripts -->
        <!-- <script src="/socket.io/socket.io.js"></script>
        <script src="../sfu/MediasoupClient.js"></script>
        <script src="../js/soundmeter.js"></script>
        <script src="../js/Room.js"></script>
        <script src="../js/RoomClient.js"></script>
        <script src="../js/VideoGrid.js"></script> -->
        <script src="https://kit.fontawesome.com/d2f1016e6f.js" crossorigin="anonymous"></script>
        <script src="https://cdn.rawgit.com/muaz-khan/DetectRTC/master/DetectRTC.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/460/fabric.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.4"></script>
        <script src="https://unpkg.com/emoji-picker-element@1" type="module"></script>
        <script src="https://unpkg.com/@popperjs/core@2"></script>
        <script src="https://unpkg.com/tippy.js@6"></script>
        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

    </head>

    <body onload="initClient()">
        <noscript>You need to enable JavaScript to run this app.</noscript>

        <div>
            <div>
                <div id="loadingDiv" class="hidden">
                    <h1>Loading...</h1>
                    <pre>                        Please allow the camera or microphone
                                    access to use this app.
                                </pre>
                </div>

                <div id="roomTitleDiv" class="center">
                    <h1 id="roomTitle">Lets discuss about kindness</h1>
                    <div id="moderatorMessage" style="text-align: center;color:#04AA6D" class="pulsate"></div>
                </div>

                <div id="control" class="fadein control-2AvNgw_EZ-LHTO6MAABV" style="display: flex;">
                    <button id="shareButton" class=""><i class="fas fa-share-alt" aria-hidden="true"></i></button>
                    <button id="startAudioButton" class="" style="display: block; color: red;"><i
                            class="fas fa-microphone-slash" aria-hidden="true"></i></button>
                    <button id="stopAudioButton" class="hidden" style="display: none;"><i class="fas fa-microphone"
                            aria-hidden="true"></i></button>
                    <button id="chatButton" class="" style=""><i class="fas fa-comments"
                            aria-hidden="true"></i></button>
                    <button id="showParticipants" class=""><i class="fas fa-users" id="participantsCountMenu"
                            aria-hidden="true">(6)</i></button>
                    <button id="raiseHandIcon" class="" title="You are a listner. Raise hand to become a speaker."
                        style=""><i class="fas fa-hand-paper" aria-hidden="true"></i></button>
                    <button id="lowerHandIcon" class="hidden"><i class="fas fa-hand-paper"
                            aria-hidden="true"></i></button>
                    <button id="settingsButton" class=""><i class="fas fa-cogs" aria-hidden="true"></i></button>
                    <button id="exitButton" class=""><i class="fas fa-phone-slash" aria-hidden="true"></i></button>
                </div>

                <div class="roomDuration">
                    <button id="sessionTimeHome" style="display: inline;"> 00:01:58</button>
                </div>

                <section id="mySettings" class="fadein center hidden">
                    <header id="mySettingsHeader">
                        <button id="mySettingsCloseBtn" class="fas fa-times" aria-hidden="true"></button>
                    </header>
                    <main>
                        <br>

                        <div class="tab">
                            <button id="tabRoomBtn" class="fas fa-home tablinks" aria-hidden="true"></button>
                            <button id="tabWhiteboardBtn" class="hidden" aria-hidden="true"></button>
                            <button id="tabDevicesBtn" class="fas fa-cog tablinks" aria-hidden="true"></button>
                            <!-- <button id="tabStylingBtn" class="fas fa-palette tablinks"></button> -->
                        </div>

                        <div id="tabDevices" class="tabcontent">
                            <br>
                            <i class="fas fa-microphone" aria-hidden="true"></i>
                            <p>Microphone:</p>
                            <select id="microphoneSelect" class="form-select text-light bg-dark">
                                <option value="default">Default - Microphone (GENERAL WEBCAM) (1b17:0211)</option>
                                <option value="communications">Communications - Microphone (GENERAL WEBCAM) (1b17:0211)
                                </option>
                                <option value="1c01a7e5ec5b919b553950059da1daddb97e4e2c1bf04eea16c46b1a9acb8436">
                                    Microphone (GENERAL
                                    WEBCAM) (1b17:0211)</option>
                            </select>
                            <br>
                            <i class="fas fa-volume-up" aria-hidden="true"></i>
                            <p>Speaker:</p>
                            <select id="speakerSelect" class="form-select text-light bg-dark">
                                <option value="default">Default - Speakers (Realtek(R) Audio)</option>
                                <option value="communications">Communications - Speakers (Realtek(R) Audio)</option>
                                <option value="f89c5eb0e36f74a47379175d247456b654d00da0fa21ba69fa4f0f8e741e665b">Realtek
                                    Digital
                                    Output (Realtek(R) Audio)</option>
                                <option value="c143225c38542f6e1036eb876cef7d1c3e2358289580cd8863c88affdc14ca7b">
                                    Speakers
                                    (Realtek(R) Audio)</option>
                            </select>
                            <br>
                        </div>

                        <div id="tabWhiteboard" class="tabcontent">
                            <br>
                            <button id="whiteboardButton">
                                <i class="fas fa-chalkboard-teacher" aria-hidden="true"></i>
                                <p>Open whiteboard</p>
                            </button>
                            <br>
                            <i class="fas fa-pencil-alt" aria-hidden="true"></i>
                            <p>Line width:</p>
                            <input id="wbDrawingLineWidthEl" type="range" value="3" min="1" max="15">
                            <br>
                            <i class="fas fa-palette" aria-hidden="true"></i>
                            <p>Line color:</p>
                            <input id="wbDrawingColorEl" type="color" value="#FFFFFF">
                            <br>
                            <i class="fas fa-palette" aria-hidden="true"></i>
                            <p>Background color:</p>
                            <input id="wbBackgroundColorEl" type="color" value="#000000">
                            <br>
                        </div>

                        <div id="tabRoom" class="tabcontent">
                            <br>
                            <button id="fullScreenButton" class="">
                                <i class="fas fa-expand-alt" aria-hidden="true"></i>
                                <p>Full screen mode</p>
                            </button>
                            <br>
                            <!-- <button id="raiseHandButton" class="hidden">
                                            <i class="fas fa-hand-paper"></i>
                                            <p>Raise hand</p>
                                        </button>
                                        <button id="lowerHandButton" class="hidden">
                                            <i class="fas fa-hand-paper"></i>
                                            <p>Lower hand</p>
                                        </button> 
                                        <br />-->
                            <!--<button id="fileShareButton" class="hidden">
                                            <i class="fas fa-folder-open"></i>
                                            <p>File sharing</p>
                                        </button>
                                        <br />-->
                            <button id="participantsButton" class="">
                                <i class="fas fa-users" aria-hidden="true"></i>
                                <p>Participants</p>
                            </button>
                            <br>
                            <button id="lockRoomButton" class="">
                                <i class="fas fa-lock-open" aria-hidden="true"></i>
                                <p>Lock room</p>
                            </button>
                            <button id="unlockRoomButton" class="hidden">
                                <i class="fas fa-lock" aria-hidden="true"></i>
                                <p>Unlock room</p>
                            </button>
                            <br id="brAfterLockButtons">
                            <button id="aboutButton" class="">
                                <i class="fas fa-question" aria-hidden="true"></i>
                                <p>About</p>
                            </button>
                            <br>
                            <button id="sessionTime" style="display: inline;"> 00:01:58</button>
                            <br>
                        </div>

                        <div id="tabRecording" class="tabcontent">
                            <br>
                            <button id="startRecButton" class="">
                                <i class="fas fa-record-vinyl" aria-hidden="true"></i>
                                <p>Start recording</p>
                            </button>
                            <button id="stopRecButton" class="hidden">
                                <i class="fas fa-stop-circle" aria-hidden="true"></i>
                                <p>Stop recording</p>
                            </button>
                            <button id="pauseRecButton" class="hidden">
                                <i class="far fa-pause-circle" aria-hidden="true"></i>
                                <p>Pause recording</p>
                            </button>
                            <button id="resumeRecButton" class="hidden">
                                <i class="far fa-play-circle" aria-hidden="true"></i>
                                <p>Resume recording</p>
                            </button>
                            <br>
                            <p id="recordingStatus">🔴 REC 0s</p>
                            <br>
                        </div>

                        <div id="tabYoutube" class="tabcontent">
                            <br>
                            <button id="youTubeShareButton">
                                <i class="fab fa-youtube" aria-hidden="true"></i>
                                <p>Share YouTube</p>
                            </button>
                            <br>
                            <button id="youTubeCloseBtn" class="hidden">
                                <i class="fas fa-times" aria-hidden="true"></i>
                                <p>Close YouTube</p>
                            </button>
                            <br>
                        </div>

                        <!-- <div id="tabStyling" class="tabcontent">
                                <br />
                                <p>Buttons bar:</p>
                                <br />
                                <select id="BtnsBarPosition" class="form-select text-light bg-dark">
                                    <option value="vertical">Vertical</option>
                                    <option value="horizontal" selected>Horizontal</option>
                                </select>
                                <br />
                            </div> -->
                    </main>
                </section>

                <div class="mainVideoContainer">
                    <div id="videoMediaContainer">
                        <!-- <div class="Camera"></div> -->
                    </div>
                </div>
                <div id="remoteAudios"></div>

                <div id="sendFileDiv" class="fadein center">
                    <div id="sendFileInfo"></div>
                    <div id="sendFilePercentage"></div>
                    <progress id="sendProgress" max="0" value="0"></progress>
                    <button id="sendAbortBtn" class="fas fa-stop-circle" aria-hidden="true">&nbsp; Abort</button>
                </div>

                <div id="receiveFileDiv" class="fadein center">
                    <div id="receiveFileInfo"></div>
                    <div id="receiveFilePercentage"></div>
                    <progress id="receiveProgress" max="0" value="0"></progress>
                    <button id="receiveHideBtn" class="fas fa-eye-slash" aria-hidden="true">&nbsp; Hide</button>
                </div>

                <section id="participants" class="fadein center hidden">
                    <header id="participantsHeader" class="participants-header">
                        <div id="participantsTitle" class="participants-header-title"><i class="fas fa-users"
                                aria-hidden="true"></i> Participants ( 2 )</div>
                        <div class="participants-header-options">
                            <button id="participantsRefreshBtn" class="fas fa-sync-alt" aria-hidden="true"></button>
                            <button id="participantsCloseBtn" class="fas fa-times" aria-hidden="true"></button>
                        </div>
                    </header>
                    <main>
                        <div id="roomParticipants">
                            <table>
                                <tbody>
                                    <tr>
                                        <th></th>
                                        <th></th>
                                        <!--<th></th>-->
                                        <th></th>
                                        <!--<th></th>-->
                                        <th></th>
                                    </tr>
                                    <tr>
                                        <td>👥 All</td>
                                        <td><button id="muteAllButton"
                                                onclick="rc.peerAction('me','2AvNgw_EZ-LHTO6MAABV','mute',true,true)"><i
                                                    style="color: red;" class="fas fa-microphone-slash"
                                                    aria-hidden="true"></i></button></td>
                                        <!--<td><button id="hideAllButton" onclick="rc.peerAction('me','2AvNgw_EZ-LHTO6MAABV','hide',true,true)"><i style="color: red;" class="fas fa-video-slash"></i></button></td>-->
                                        <td></td>
                                        <!--<td><button id="sendAllButton" onclick="rc.selectFileToShare('2AvNgw_EZ-LHTO6MAABV')"><i class="fas fa-upload"></i></button></td>-->
                                        <td><button id="ejectAllButton"
                                                onclick="rc.peerAction('me','2AvNgw_EZ-LHTO6MAABV','eject',true,true)"><i
                                                    class="fas fa-times" aria-hidden="true"></i></button></td>
                                    </tr>

                                    <tr id="EZQCIHd6AgIq6hPwAABT">
                                        <td>👤 Ramya Deepu</td>
                                        <td><button id="EZQCIHd6AgIq6hPwAABT___pAudio"
                                                onclick="rc.peerAction('me',this.id,'mute')"><i style="color: red;"
                                                    class="fas fa-microphone-slash" aria-hidden="true"></i></button>
                                        </td>
                                        <!--<td><button id='EZQCIHd6AgIq6hPwAABT___pVideo' onclick="rc.peerAction('me',this.id,'hide')"><i style="color: red;" class="fas fa-video-slash"></i></button></td>-->
                                        <td><button></button></td>
                                        <!--<td><button id='EZQCIHd6AgIq6hPwAABT' onclick="rc.selectFileToShare(this.id, false)"><i class="fas fa-upload"></i></button></td>-->
                                        <td><button id="EZQCIHd6AgIq6hPwAABT___pEject"
                                                onclick="rc.peerAction('me',this.id,'eject')"><i class="fas fa-times"
                                                    aria-hidden="true"></i></button></td>
                                    </tr>

                                    <tr>
                                        <td>👤 Ravi Ch (me)</td>
                                        <td>
                                            <!--<button><i class="fas fa-microphone"></i></button>-->
                                        </td>
                                        <!--<td><button><i style="color: red;" class="fas fa-video-slash"></i></button></td>-->
                                        <td><button id="2AvNgw_EZ-LHTO6MAABV__participantHandStatus"></button></td>
                                        <!--<td></td>-->
                                        <td></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </main>
                </section>

                <section id="whiteboard" class="fadein center hidden">
                    <header id="whiteboardHeader" class="whiteboard-header">
                        <div id="whiteboardTitle" class="whiteboard-header-title"></div>
                        <div class="whiteboard-header-options">
                            <button id="whiteboardPencilBtn" class="fas fa-pencil-alt" aria-hidden="true"></button>
                            <button id="whiteboardObjectBtn" class="fas fa-mouse-pointer" aria-hidden="true"></button>
                            <button id="whiteboardUndoBtn" class="fas fa-undo" aria-hidden="true"></button>
                            <button id="whiteboardRedoBtn" class="fas fa-redo" aria-hidden="true"></button>
                            <button id="whiteboardImgFileBtn" class="far fa-image" aria-hidden="true"></button>
                            <button id="whiteboardImgUrlBtn" class="fas fa-link" aria-hidden="true"></button>
                            <button id="whiteboardTextBtn" class="fas fa-spell-check" aria-hidden="true"></button>
                            <button id="whiteboardLineBtn" class="fas fa-slash" aria-hidden="true"></button>
                            <button id="whiteboardRectBtn" class="far fa-square" aria-hidden="true"></button>
                            <button id="whiteboardCircleBtn" class="far fa-circle" aria-hidden="true"></button>
                            <button id="whiteboardSaveBtn" class="fas fa-save" aria-hidden="true"></button>
                            <button id="whiteboardEraserBtn" class="fas fa-eraser" aria-hidden="true"></button>
                            <button id="whiteboardCleanBtn" class="fas fa-trash" aria-hidden="true"></button>
                            <button id="whiteboardCloseBtn" class="fas fa-times" aria-hidden="true"></button>
                        </div>
                    </header>
                    <main>
                        <canvas id="wbCanvas"></canvas>
                    </main>
                </section>

                <section id="chatRoom" class="chat-room center fadein">
                    <section id="msger" class="msger">
                        <header id="chatHeader" class="chat-header">
                            <div class="chat-header-title"><i class="fas fa-comment-alt" aria-hidden="true"></i> Chat
                            </div>
                            <div class="chat-header-options">
                                <button id="chatCleanButton" class="fas fa-trash" aria-hidden="true"></button>
                                <button id="chatSaveButton" class="fas fa-save" aria-hidden="true"></button>
                                <button id="chatCloseButton" class="fas fa-times" aria-hidden="true"></button>
                            </div>
                        </header>
                        <main id="chatMsger" class="chat-msger">
                            <!-- chat messages -->
                        </main>
                        <div class="chat-msger-inputarea">
                            <input id="chatMessage" class="chat-msger-input" type="text"
                                placeholder="💬 Enter your message...">
                            <button id="chatEmojiButton" class="">
                                <i class="fas fa-smile" aria-hidden="true"></i>
                            </button>
                            <button id="chatSendButton" class="">
                                <i class="fas fa-paper-plane" aria-hidden="true"></i>
                            </button>
                        </div>
                        <div id="chatEmoji" class="hidden fadein">
                            <emoji-picker class="dark"></emoji-picker>
                        </div>
                    </section>
                </section>


            </div>
        </div>

    </body>

</html>